<ion-view view-title="Interact :: Orders">
  <ion-floating-menu has-footer="true" menu-color="#886aea" menu-icon="ion-plus" menu-open-color="#444" backdrop="true"
    <ion-floating-item icon="ion-android-clipboard" button-color="#387ef5" text="Walk-in Order"></ion-floating-item>
  </ion-floating-menu>
  <ion-content class="padding has-tabs-top">
    <h3>Displaying {{filterType}} reservations</h3>
    <div class="button-bar">
      <button class="button button-small button-balanced" ng-click="setFilter('today')">View Today</button>
      <button class="button button-small button-balanced" ng-click="setFilter('all')">View All</button>
      <button class="button button-small button-balanced" ng-click="setFilter('month')">View Month</button>
    </div>

    <ion-item  ng-repeat="order in orders | orderBy:'-details.order_details.timestamp' | filter:orderFilter(filterType) ">
      <h6>Order Reference #{{order.details.order_details.timestamp}}</h6>
      <p>
      Customer Name: {{order.customer}}
      </p>
      <ion-item ng-repeat="menu in order.menus">
        <p>
        Name : {{menu.name}}
        </p>
        <p>
          Quantity : {{menu.quantity}}
        </p>
        <p>
        Price : {{menu.price}}
        </p>
        <p>
          Subtotal : {{ menu.price  * menu.quantity }}
        </p>
      </ion-item>
      <p>
        Location: {{order.details.order_details.location}}
      </p>
      <p>
        Total : {{order.details.order_details.totalprice}}
      </p>
      <p>
        Order Status : {{order.details.order_details.status}}
      </p>
      <ion-checkbox ng-repeat="(key, val) in order.details.orderStatus" ng-model="order.details.orderStatus[key]" ng-change="changeOrderStatus(order.details.$id, key, order.details.orderStatus[key])">
        {{key}}
      </ion-checkbox>
    </ion-item>
    <button type="button" name="button" ng-click="pathByRestaurant()">Show Path to customer from Restaurant</button>
    <button type="button" name="button" ng-click="pathByCurrentLocation()">Show Path to customer from Current location</button>
    <ui-gmap-google-map zoom='map.zoom' events='map.events' center='map.center' options='map.options' bounds='map.bounds' control="modalControl">
      <ui-gmap-markers models="markers" coords="'coords'" icon="'icon'" events="markerEvents" doRebuildAll="true"></ui-gmap-markers>
    </ui-gmap-google-map>
  </ion-content>
</ion-view>
