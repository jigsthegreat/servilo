<ion-view view-title="dashboard-main">
  <ion-floating-menu has-footer="true" menu-color="#886aea" menu-icon="ion-gear-a" menu-open-color="#444" backdrop="true">
    <ion-floating-item icon="ion-trash-b" click="deleteRestaurant(restaurant)" button-color="#ef473a" text="Delete Restaurant"></ion-floating-item>
    <ion-floating-item icon="ion-edit" click="editRestaurant(restaurant)" button-color="#387ef5" text="Edit Restaurant"></ion-floating-item>
    <ion-floating-item icon="ion-plus" click="advertise(restaurant)" button-color="#387ef5" ng-if="!isAdvertised" text="Advertise Restaurant"></ion-floating-item>
    <ion-floating-item icon="ion-plus" click="advertise(restaurant)" button-color="#387ef5" ng-if="isAdvertised" text="Edit Advertise Restaurant"></ion-floating-item>

  </ion-floating-menu>
  <ion-content class="has-tabs-top">
    <div class="hero" style="background-image: url('img/wow.jpg');">
      <div class="content">
        <img class="avatar" ng-if="restaurant.photoURL" ng-src="{{restaurant.photoURL}}">
        <img class="avatar" ng-if="!restaurant.photoURL" ng-src="img/ionic.png">
        <div class="black-bg">
          <h3 class="stable">{{restaurant.name}}</h3>
          <h4 class="light">{{restaurant.location}}</h4>
        </div>
      </div>
    </div>
    <div class="card" ng-if="isAdvertised">
      <p class="padding" ng-if="isValid" style="color:green">
        This restaurant is currently advertised. Advertisement will end at {{ad.endDate| date: "MMM d, y"}}.
      </p>
      <p class="padding" ng-if="!isValid" style="color:red">
        Restaurant advertisement has ended on {{ad.endDate | date: "MMM d, y"}} over. Create a new ad campaign by tapping the option button.
      </p>
    </div>
    <div class="card list">
      <div class="item item-divider">
        <h2>Information</h2>
      </div>
      <div class="item item-text-wrap">
        <div class="list">
          <div class="item">
            <p>Type: {{restaurant.type}}</p>
          </div>
          <div class="item">
            <p>Cuisine: {{restaurant.cuisine}}</p>
          </div>
          <div class="item">
            <p>Contact no.: {{restaurant.phonenumber}}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="card list">
      <div class="item item-divider">
        <h2>Schedule</h2>
      </div>
      <div class="item item-text-wrap">
        <div class="list">
          <p>Time Open: </p>
          <div class="item">
            <p>{{ restaurant.openTime | date:'shortTime' }} - {{ restaurant.closeTime | date:'shortTime' }}</p>
          </div>
          <p>Days Open: </p>
          <div class="item" ng-repeat="(key, val) in restaurant.openDays track by $index" ng-if="val === true">
            <p>{{days[key].name}}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="card list">
      <div class="item item-divider">
        <h2>Facilities</h2>
      </div>
      <div class="item item-text-wrap">
        <div class="list">
          <div class="item" ng-repeat="(key, val) in restaurant.facilities">
            <p>{{getFacilityName(key)}}</p>
          </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
