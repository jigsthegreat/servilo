<ion-view view-title="Home">
  <ion-header-bar class="bar bar-subheader bar-light item-input-inset">

    <label class="item-input-wrapper">
      <i class="icon ion-search placeholder-icon"></i>
      <input placeholder="Search..." type="search" ng-model="searchText">
    </label>
  </ion-header-bar>
  <ion-content class="padding has-subheader" overflow-scroll="true">
    <ion-list>
      <h3>Restaurants</h3>
      <ion-item ng-repeat="restaurant in restaurants | filter:searchText">
        <a ng-init="addMarker(restaurant)" class="button button-calm icon icon-right ion-chevron-right" ui-sref="tabs.viewRestaurant({restaurantId:restaurant.$id})">{{restaurant.name}}</a>
        <p ng-if="restaurant.secured_data.totalMenuCount != 0">
          Avg Price: {{getAvg(restaurant.$id) | currency:"â‚±"}}


        </p>
        <p>
          Rating: {{getAvgRating(restaurant.$id)}} / 5
        </p>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
